<!DOCTYPE html>
<html lang="ko">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title><%= req.siteInfo.title %> : <%= title %></title>
		<link href="/static/tailwind.admin.min.css" rel="stylesheet">
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
		<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
		<link href="https://use.fontawesome.com/releases/v6.4.0/css/all.css" rel="stylesheet">
		<link href="/static/admin.css" rel="stylesheet">
	</head>
	<body>
		<app>
			<header class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0">
				<a class="navbar-brand col-md-3 col-lg-2 me-0 px-3 fs-6" href="/">
					<%= req.siteInfo.title %>
				</a>
				<button class="navbar-toggler position-absolute collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation" id="sidebarToggle">
					<span class="navbar-toggler-icon"></span>
				</button>
			  </header>
			<div class="container-fluid">
				<div class="row">
					<nav id="sidebarMenu" 
						class="
							col-lg-2
							bg-light
							sidebar
							collapse
							bg-dark
							shadow
							collapse-horizontal
							show
						"
						data-bs-theme="dark"
						id="sidebar-collapse"
					>
						<div class="position-sticky pt-3 sidebar-sticky">
							<ul class="nav flex-column">
								<%- include('menu'); %>
							</ul>
						</div>
					</nav>
				</nav>
				<main class="px-md-4 sidebar-main">
					<div class="pt-3 pb-2 mb-3">
						<alert class="mt-3">
							<% if(req.session.msg){ %>
								<div class="mb-4 alert alert-<%- req.session.msg.type %> alert-dismissible fade show" style="margin-top: -0.8rem" role="alert">
									<%- req.session.msg.msg %>
									<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
								</div>
							<% req.removeMsg(); %>
							<% } %>
						</alert>
						<div class="<%= mainflex ? "d-flex" : "" %> flex-wrap align-items-center">
							<%- page %>
						</div>
					</main>
				</div>
			</div>
		</app>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
		<script src="/static/jquery-3.7.0.min.js"></script>
        <script src="/static/datatable/DataTables-1.13.4/js/jquery.dataTables.min.js"></script>
        <script src="/static/datatable/DataTables-1.13.4/js/dataTables.bootstrap5.min.js"></script>
        <script src="/static/datatable/Responsive-2.4.1/js/dataTables.responsive.min.js"></script>
        <script src="/static/datatable/Responsive-2.4.1/js/responsive.bootstrap5.js"></script>
        <script src="/static/datatable/RowReorder-1.3.3/js/dataTables.rowReorder.min.js"></script>
        <script src="/static/datatable/SearchPanes-2.1.2/js/dataTables.searchPanes.min.js"></script>
        <script src="/static/datatable/SearchPanes-2.1.2/js/searchPanes.bootstrap5.min.js"></script>
	</body>
</html>